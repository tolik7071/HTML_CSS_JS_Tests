<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta charset="UTF-8">
      <title>TODO</title>
      <style>
         textarea {
            height: 300px;
            width: 300px;
         }
      </style>
   </head>
   <body>
      <div>
         <textarea id="output-area"></textarea>
         <br>
         <button onclick="LoadXML()">Send Request</button>
      </div>
      <script>
         function LoadXML() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
               if (this.readyState == 4 && this.status == 200) {
                  myFunction(this);
               }

               function visitElement(parent) {
                  var outputter = document.getElementById("output-area");
                  var temp = outputter.value;
                  if (parent.nodeType == 3 /* TEXT_NODE */) {
                     temp += '\/' + parent.data + '\/' + '\n';
                  } else {
                     temp += parent.nodeName + '\n';
                  }
                  outputter.value = temp;

                  for (var i = 0; i < parent.childNodes.length; i++) {
                        var e = parent.childNodes[i];
                        visitElement(e);
                  }
               }

               function myFunction(xml) {
                  var xmlDoc = xml.responseXML;
                  for (var i = 0; i < xmlDoc.childNodes.length; i++) {
                     visitElement(xmlDoc.childNodes[i]);
                  }
               }
            }

            xhttp.open("GET", "test.xml", true);
            xhttp.setRequestHeader("Content-type", "application/xml");
            xhttp.send();
         }
      </script>
   </body>
</html>
